\hypertarget{wifi__rest__server_8c}{}\doxysection{wifi\+\_\+rest\+\_\+server.\+c File Reference}
\label{wifi__rest__server_8c}\index{wifi\_rest\_server.c@{wifi\_rest\_server.c}}


This file contains the code for the RESTful API server.  


{\ttfamily \#include \char`\"{}wifi\+\_\+rest\+\_\+server.\+h\char`\"{}}\newline
{\ttfamily \#include $<$fcntl.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}bt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}c\+JSON.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+event.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+http\+\_\+server.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+log.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+netif.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+spiffs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+system.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+vfs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+vfs\+\_\+fat.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}esp\+\_\+vfs\+\_\+semihost.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/apps/netbiosns.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}macros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}macros\+\_\+conf.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mdns.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}nvs\+\_\+flash.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}scientisst.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sdkconfig.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}sdmmc\+\_\+cmd.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}wifi.\+h\char`\"{}}\newline
Include dependency graph for wifi\+\_\+rest\+\_\+server.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{wifi__rest__server_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structrest__server__context}{rest\+\_\+server\+\_\+context}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{wifi__rest__server_8c_a81736346c56d6222fa4ad9ee7a1dce0a}\label{wifi__rest__server_8c_a81736346c56d6222fa4ad9ee7a1dce0a}} 
\#define {\bfseries WEB\+\_\+\+MOUNT\+\_\+\+POINT}~\char`\"{}/www\char`\"{}
\item 
\#define \mbox{\hyperlink{wifi__rest__server_8c_a4d4a8914ca91c9ae83dd035e4ca775af}{REST\+\_\+\+CHECK}}(a,  str,  goto\+\_\+tag, ...)
\item 
\mbox{\Hypertarget{wifi__rest__server_8c_a84730f0beae2e082dfedc125b8fd6010}\label{wifi__rest__server_8c_a84730f0beae2e082dfedc125b8fd6010}} 
\#define {\bfseries FILE\+\_\+\+PATH\+\_\+\+MAX}~(ESP\+\_\+\+VFS\+\_\+\+PATH\+\_\+\+MAX + 128)
\item 
\mbox{\Hypertarget{wifi__rest__server_8c_a405080fccf231e47b71fde36a03916e4}\label{wifi__rest__server_8c_a405080fccf231e47b71fde36a03916e4}} 
\#define {\bfseries SCRATCH\+\_\+\+BUFSIZE}~(10240)
\item 
\mbox{\Hypertarget{wifi__rest__server_8c_a386dfd754d45441d28d25e0cc152f7d0}\label{wifi__rest__server_8c_a386dfd754d45441d28d25e0cc152f7d0}} 
\#define {\bfseries CHECK\+\_\+\+FILE\+\_\+\+EXTENSION}(filename,  ext)~    (strcasecmp(\&filename\mbox{[}strlen(filename) -\/ strlen(ext)\mbox{]}, ext) == 0)
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{wifi__rest__server_8c_ae8aa8067d3cc409b92ea0041b92b3bcf}\label{wifi__rest__server_8c_ae8aa8067d3cc409b92ea0041b92b3bcf}} 
typedef struct \mbox{\hyperlink{structrest__server__context}{rest\+\_\+server\+\_\+context}} {\bfseries rest\+\_\+server\+\_\+context\+\_\+t}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{wifi__rest__server_8c_a1c53d5a1171ec926c869f01893fb39ad}{start\+\_\+rest\+\_\+server}} (const char $\ast$base\+\_\+path)
\begin{DoxyCompactList}\small\item\em Start REST server. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{wifi__rest__server_8c_afa9b794dbbbffc690d3eb932a30e65ec}{init\+\_\+fs\+\_\+www}} (void)
\begin{DoxyCompactList}\small\item\em Initialize SPIFFS. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{wifi__rest__server_8c_afa1be1b6d887d97d532d563ce22cc02b}\label{wifi__rest__server_8c_afa1be1b6d887d97d532d563ce22cc02b}} 
void {\bfseries init\+Rest\+Server} (void)
\begin{DoxyCompactList}\small\item\em Initialize REST server. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file contains the code for the RESTful API server. 

This file contains the code for the HTTP Restful API Server

This example code is in the Public Domain (or CC0 licensed, at your option.)

Unless required by applicable law or agreed to in writing, this software is distributed on an \char`\"{}\+AS IS\char`\"{} BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{wifi__rest__server_8c_a4d4a8914ca91c9ae83dd035e4ca775af}\label{wifi__rest__server_8c_a4d4a8914ca91c9ae83dd035e4ca775af}} 
\index{wifi\_rest\_server.c@{wifi\_rest\_server.c}!REST\_CHECK@{REST\_CHECK}}
\index{REST\_CHECK@{REST\_CHECK}!wifi\_rest\_server.c@{wifi\_rest\_server.c}}
\doxysubsubsection{\texorpdfstring{REST\_CHECK}{REST\_CHECK}}
{\footnotesize\ttfamily \#define REST\+\_\+\+CHECK(\begin{DoxyParamCaption}\item[{}]{a,  }\item[{}]{str,  }\item[{}]{goto\+\_\+tag,  }\item[{}]{... }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{    \textcolor{keywordflow}{do} \{                                                                      \(\backslash\)}
\DoxyCodeLine{        if (!(a)) \{                                                           \(\backslash\)}
\DoxyCodeLine{            DEBUG\_PRINT\_E(\textcolor{stringliteral}{"{}esp-\/rest"{}}, \textcolor{stringliteral}{"{}\%s(\%d): "{}} str, \_\_FUNCTION\_\_, \_\_LINE\_\_, \(\backslash\)}
\DoxyCodeLine{                          \#\#\_\_VA\_ARGS\_\_);                                     \(\backslash\)}
\DoxyCodeLine{            goto goto\_tag;                                                    \(\backslash\)}
\DoxyCodeLine{        \}                                                                     \(\backslash\)}
\DoxyCodeLine{    \} \textcolor{keywordflow}{while} (0)}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{wifi__rest__server_8c_afa9b794dbbbffc690d3eb932a30e65ec}\label{wifi__rest__server_8c_afa9b794dbbbffc690d3eb932a30e65ec}} 
\index{wifi\_rest\_server.c@{wifi\_rest\_server.c}!init\_fs\_www@{init\_fs\_www}}
\index{init\_fs\_www@{init\_fs\_www}!wifi\_rest\_server.c@{wifi\_rest\_server.c}}
\doxysubsubsection{\texorpdfstring{init\_fs\_www()}{init\_fs\_www()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t init\+\_\+fs\+\_\+www (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initialize SPIFFS. 

\begin{DoxyReturn}{Returns}
\+:
\begin{DoxyItemize}
\item ESP\+\_\+\+OK Success
\item ESP\+\_\+\+FAIL Fail 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{wifi__rest__server_8c_a1c53d5a1171ec926c869f01893fb39ad}\label{wifi__rest__server_8c_a1c53d5a1171ec926c869f01893fb39ad}} 
\index{wifi\_rest\_server.c@{wifi\_rest\_server.c}!start\_rest\_server@{start\_rest\_server}}
\index{start\_rest\_server@{start\_rest\_server}!wifi\_rest\_server.c@{wifi\_rest\_server.c}}
\doxysubsubsection{\texorpdfstring{start\_rest\_server()}{start\_rest\_server()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t start\+\_\+rest\+\_\+server (\begin{DoxyParamCaption}\item[{const char $\ast$}]{base\+\_\+path }\end{DoxyParamCaption})}



Start REST server. 


\begin{DoxyParams}{Parameters}
{\em base\+\_\+path} & Base path of REST server\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+:
\begin{DoxyItemize}
\item ESP\+\_\+\+OK Success
\item ESP\+\_\+\+FAIL Fail 
\end{DoxyItemize}
\end{DoxyReturn}
