\hypertarget{tcp_8c}{}\doxysection{tcp.\+c File Reference}
\label{tcp_8c}\index{tcp.c@{tcp.c}}


Header file for the TCP server and client functions.  


{\ttfamily \#include \char`\"{}tcp.\+h\char`\"{}}\newline
{\ttfamily \#include $<$lwip/netdb.\+h$>$}\newline
{\ttfamily \#include \char`\"{}bt.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/err.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/sockets.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lwip/sys.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}macros.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}scientisst.\+h\char`\"{}}\newline
Include dependency graph for tcp.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{tcp_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{tcp_8c_a679d229e6486dc6bf37d29c443567fdc}{init\+Tcp\+Server}} (char $\ast$port\+\_\+str)
\begin{DoxyCompactList}\small\item\em Initializes a TCP server. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tcp_8c_a89228c536f37d88879ffb88f326b613f}{init\+Tcp\+Connection}} (int listen\+\_\+fd)
\begin{DoxyCompactList}\small\item\em Initializes a TCP connection. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tcp_8c_a858569799b6c7a78b4897c86abda3536}{init\+Tcp\+Client}} (char $\ast$ip, char $\ast$port)
\begin{DoxyCompactList}\small\item\em Initializes a TCP client. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t IRAM\+\_\+\+ATTR \mbox{\hyperlink{tcp_8c_a0ab982b8b05181205593151f2c37b1f4}{tcp\+Serial\+Send}} (uint32\+\_\+t fd, int len, uint8\+\_\+t $\ast$buff)
\begin{DoxyCompactList}\small\item\em Sends data through a TCP connection. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{tcp_8c_ac9d09cf08fe274579d9cdb583c82478b}{wifi\+Serial\+Rcv}} (void)
\begin{DoxyCompactList}\small\item\em Receives data through a TCP connection and then call process\+Rcv on the data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{tcp_8c_acfbdb7fbd28dd94e86c73d4c25fbdf12}\label{tcp_8c_acfbdb7fbd28dd94e86c73d4c25fbdf12}} 
int {\bfseries bind\+\_\+err}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for the TCP server and client functions. 

This file contains the declarations for the TCP server and communications functions. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tcp_8c_a858569799b6c7a78b4897c86abda3536}\label{tcp_8c_a858569799b6c7a78b4897c86abda3536}} 
\index{tcp.c@{tcp.c}!initTcpClient@{initTcpClient}}
\index{initTcpClient@{initTcpClient}!tcp.c@{tcp.c}}
\doxysubsubsection{\texorpdfstring{initTcpClient()}{initTcpClient()}}
{\footnotesize\ttfamily int init\+Tcp\+Client (\begin{DoxyParamCaption}\item[{char $\ast$}]{ip,  }\item[{char $\ast$}]{port }\end{DoxyParamCaption})}



Initializes a TCP client. 


\begin{DoxyParams}{Parameters}
{\em ip} & The IP address of the server. \\
\hline
{\em port} & The port of the server.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The file descriptor of the TCP client. 
\end{DoxyReturn}
\mbox{\Hypertarget{tcp_8c_a89228c536f37d88879ffb88f326b613f}\label{tcp_8c_a89228c536f37d88879ffb88f326b613f}} 
\index{tcp.c@{tcp.c}!initTcpConnection@{initTcpConnection}}
\index{initTcpConnection@{initTcpConnection}!tcp.c@{tcp.c}}
\doxysubsubsection{\texorpdfstring{initTcpConnection()}{initTcpConnection()}}
{\footnotesize\ttfamily int init\+Tcp\+Connection (\begin{DoxyParamCaption}\item[{int}]{listen\+\_\+fd }\end{DoxyParamCaption})}



Initializes a TCP connection. 


\begin{DoxyParams}{Parameters}
{\em listen\+\_\+fd} & The file descriptor of the TCP server.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The file descriptor of the TCP connection. 
\end{DoxyReturn}
\mbox{\Hypertarget{tcp_8c_a679d229e6486dc6bf37d29c443567fdc}\label{tcp_8c_a679d229e6486dc6bf37d29c443567fdc}} 
\index{tcp.c@{tcp.c}!initTcpServer@{initTcpServer}}
\index{initTcpServer@{initTcpServer}!tcp.c@{tcp.c}}
\doxysubsubsection{\texorpdfstring{initTcpServer()}{initTcpServer()}}
{\footnotesize\ttfamily int init\+Tcp\+Server (\begin{DoxyParamCaption}\item[{char $\ast$}]{port\+\_\+str }\end{DoxyParamCaption})}



Initializes a TCP server. 


\begin{DoxyParams}{Parameters}
{\em port\+\_\+str} & The port to listen to.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The file descriptor of the TCP server. 
\end{DoxyReturn}
\mbox{\Hypertarget{tcp_8c_a0ab982b8b05181205593151f2c37b1f4}\label{tcp_8c_a0ab982b8b05181205593151f2c37b1f4}} 
\index{tcp.c@{tcp.c}!tcpSerialSend@{tcpSerialSend}}
\index{tcpSerialSend@{tcpSerialSend}!tcp.c@{tcp.c}}
\doxysubsubsection{\texorpdfstring{tcpSerialSend()}{tcpSerialSend()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t IRAM\+\_\+\+ATTR tcp\+Serial\+Send (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{fd,  }\item[{int}]{len,  }\item[{uint8\+\_\+t $\ast$}]{buff }\end{DoxyParamCaption})}



Sends data through a TCP connection. 

This function sends data through a TCP connection. It is called by the \mbox{\hyperlink{bt_8c_a09adbbe03bca19d08be8cc4f256e7cc9}{send\+Data()}} function when in TCP mode.


\begin{DoxyParams}{Parameters}
{\em fd} & The file descriptor of the TCP connection. \\
\hline
{\em len} & The length of the data to send. \\
\hline
{\em buff} & The data to send.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+:
\begin{DoxyItemize}
\item ESP\+\_\+\+OK if the data was sent successfully
\item ESP\+\_\+\+FAIL otherwise 
\end{DoxyItemize}
\end{DoxyReturn}
\mbox{\Hypertarget{tcp_8c_ac9d09cf08fe274579d9cdb583c82478b}\label{tcp_8c_ac9d09cf08fe274579d9cdb583c82478b}} 
\index{tcp.c@{tcp.c}!wifiSerialRcv@{wifiSerialRcv}}
\index{wifiSerialRcv@{wifiSerialRcv}!tcp.c@{tcp.c}}
\doxysubsubsection{\texorpdfstring{wifiSerialRcv()}{wifiSerialRcv()}}
{\footnotesize\ttfamily void wifi\+Serial\+Rcv (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Receives data through a TCP connection and then call process\+Rcv on the data. 

This function receives data through a TCP connection and then call process\+Rcv on the data. If connection is closed unexpectedly, it will try to reconnect in a loop. If connection is closed gracefully, it will stop acquiring data. 
