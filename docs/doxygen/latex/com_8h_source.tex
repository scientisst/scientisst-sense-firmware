\hypertarget{com_8h_source}{}\doxysection{com.\+h}
\mbox{\hyperlink{com_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#ifndef \_COM\_H}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define \_COM\_H}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}sdkconfig.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define DEFAULT\_ADC\_CHANNELS 6         }\textcolor{comment}{// Default number of active adc channels}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define EXT\_ADC\_CHANNELS 2             }\textcolor{comment}{// Num of external adc channels}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define NUM\_UNUSED\_BITS\_FOR\_CH\_MASK 2  }\textcolor{comment}{// It's the number explained below}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define STATUS\_PACKET\_SIZE 16}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define API\_MODE\_BITALINO 1}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#define API\_MODE\_SCIENTISST 2}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#define API\_MODE\_JSON 3}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{preprocessor}{\#define OP\_MODE\_IDLE 0}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#define OP\_MODE\_LIVE 1}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define OP\_MODE\_CONFIG 2}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{preprocessor}{\#define CMD\_MAX\_BYTES 4}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#define NUM\_BUFFERS 50}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#define MAX\_BUFFER\_SIZE (ESP\_SPP\_MAX\_MTU)  }\textcolor{comment}{// If changed, change in API}}
\DoxyCodeLine{32 \textcolor{comment}{// \#define MAX\_BUFFER\_SIZE CONFIG\_LWIP\_TCP\_SND\_BUF\_DEFAULT}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{35     uint8\_t api\_mode;}
\DoxyCodeLine{36     void (*aquire\_func)();}
\DoxyCodeLine{37     void (*select\_ch\_mask\_func)();}
\DoxyCodeLine{38 \} \mbox{\hyperlink{structApi__Config}{Api\_Config}};}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{preprocessor}{\#define ADC1\_CFG\_IDX 0}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#define ADC2\_CFG\_IDX 1}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define GET\_NEXT\_POS(curr\_pos, dist)                            \(\backslash\)}}
\DoxyCodeLine{44 \textcolor{preprocessor}{    (\{                                                          \(\backslash\)}}
\DoxyCodeLine{45 \textcolor{preprocessor}{        curr\_pos.start\_byte += (curr\_pos.start\_bit + dist) / 8; \(\backslash\)}}
\DoxyCodeLine{46 \textcolor{preprocessor}{        curr\_pos.start\_bit = (curr\_pos.start\_bit + dist) \% 8;   \(\backslash\)}}
\DoxyCodeLine{47 \textcolor{preprocessor}{    \})}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 \textcolor{keywordtype}{void} processRcv2(uint8\_t* buff, \textcolor{keywordtype}{int} buff\_size);}
\DoxyCodeLine{50 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_a785ca18add149b21c236f76aae134268}{processRcv}}(uint8\_t* buff, \textcolor{keywordtype}{int} buff\_size);}
\DoxyCodeLine{51 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_aac2378909bc99c264f31dc8db49d6e0d}{selectChsFromMask}}(uint8\_t* buff);}
\DoxyCodeLine{52 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_ae888ca03d182fe258b3e3f0f528fdb24}{stopAcquisition}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{53 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_ab5af5c77546cadc8c381dcea191a5a3a}{sendStatusPacket}}();}
\DoxyCodeLine{54 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_a2d4492b3724f0efdc58c689be11ed2ef}{sendFirmwareVersionPacket}}();}
\DoxyCodeLine{55 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_a764d78a8e7be94dbac7960944d177cd5}{changeAPI}}(uint8\_t mode);}
\DoxyCodeLine{56 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_a0a7d9887d866419d989f52e64fc39443}{selectChsFromMaskScientisstJson}}(uint8\_t* buff);}
\DoxyCodeLine{57 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_adcfa347fce6d5b2c4235aca5aae2bb42}{setSampleRate}}(uint8\_t* buff);}
\DoxyCodeLine{58 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_a911de171ac9bb21aa35c3c35f21eeb52}{triggerGpio}}(uint8\_t* buff);}
\DoxyCodeLine{59 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_a768fa7b96f28d9b1bd5175d701bab3cf}{triggerDAC}}(uint8\_t* buff);}
\DoxyCodeLine{60 \textcolor{keywordtype}{void} \mbox{\hyperlink{com_8h_a4f1baabc30148b69a50e3e4e08270a75}{startAcquisition}}(uint8\_t* buff, uint8\_t cmd);}
\DoxyCodeLine{61 uint8\_t \mbox{\hyperlink{com_8h_afa72b55e12d976d144b6351c83d4a463}{getPacketSize}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 \textcolor{comment}{/*          MASK CONFIGURATION EXAMPLE}}
\DoxyCodeLine{64 \textcolor{comment}{ *                       bits}}
\DoxyCodeLine{65 \textcolor{comment}{ *           7   6   5   4   3   2   1   0}}
\DoxyCodeLine{66 \textcolor{comment}{ *           A6  A5  A4  A3  A2  A1  X   X}}
\DoxyCodeLine{67 \textcolor{comment}{ *           <-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/><-\/-\/-\/-\/-\/-\/>}}
\DoxyCodeLine{68 \textcolor{comment}{ *           DEFAULT\_ADC\_CHANNELS}}
\DoxyCodeLine{69 \textcolor{comment}{ *                        NUM\_UNUSED\_BITS\_FOR\_CH\_MASK}}
\DoxyCodeLine{70 \textcolor{comment}{ */}}
\DoxyCodeLine{71 }
\DoxyCodeLine{72 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
