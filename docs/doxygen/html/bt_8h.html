<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Scientisst: bt.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Scientisst
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">bt.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Bluetooth header file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;esp_err.h&quot;</code><br />
<code>#include &quot;esp_attr.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for bt.h:</div>
<div class="dyncontent">
<div class="center"><img src="bt_8h__incl.png" border="0" usemap="#abt_8h" alt=""/></div>
<map name="abt_8h" id="abt_8h">
<area shape="rect" title="Bluetooth header file." alt="" coords="114,5,161,32"/>
<area shape="rect" title=" " alt="" coords="5,80,72,107"/>
<area shape="rect" title=" " alt="" coords="97,80,178,107"/>
<area shape="rect" title=" " alt="" coords="202,80,289,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="bt_8h__dep__incl.png" border="0" usemap="#abt_8hdep" alt=""/></div>
<map name="abt_8hdep" id="abt_8hdep">
<area shape="rect" title="Bluetooth header file." alt="" coords="423,5,470,32"/>
<area shape="rect" href="ble_8c.html" title="Bluetooth Low Energy (BLE) mode functions." alt="" coords="5,80,59,107"/>
<area shape="rect" href="bt_8c.html" title="BT communication file with some general functions also." alt="" coords="83,80,130,107"/>
<area shape="rect" href="com_8c.html" title="This file contains the functions that handle the communication with the client." alt="" coords="155,80,216,107"/>
<area shape="rect" href="scientisst_8c.html" title="Main file for the Scientisst firmware." alt="" coords="241,80,335,107"/>
<area shape="rect" href="sd__card_8c.html" title="SD card driver. This file implements the SD card driver." alt="" coords="360,80,443,107"/>
<area shape="rect" href="tcp_8c.html" title="Header file for the TCP server and client functions." alt="" coords="467,80,520,107"/>
<area shape="rect" href="uart_8c.html" title="UART functions." alt="" coords="544,80,603,107"/>
<area shape="rect" href="udp_8c.html" title="Contains functions to send data over UDP." alt="" coords="627,80,685,107"/>
<area shape="rect" href="wifi__rest__server_8c.html" title="This file contains the code for the RESTful API server." alt="" coords="709,80,843,107"/>
<area shape="rect" href="ws_8c.html" title="Websocket server." alt="" coords="868,80,919,107"/>
</map>
</div>
</div>
<p><a href="bt_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa204d8f7f792ccc8824f28d7ca6066bc"><td class="memItemLeft" align="right" valign="top"><a id="aa204d8f7f792ccc8824f28d7ca6066bc" name="aa204d8f7f792ccc8824f28d7ca6066bc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPP_TAG</b>&#160;&#160;&#160;&quot;SPP_ACCEPTOR_DEMO&quot;</td></tr>
<tr class="separator:aa204d8f7f792ccc8824f28d7ca6066bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfbc83ad5c6fb8c7e24be1643771be0"><td class="memItemLeft" align="right" valign="top"><a id="afbfbc83ad5c6fb8c7e24be1643771be0" name="afbfbc83ad5c6fb8c7e24be1643771be0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SPP_SERVER_NAME</b>&#160;&#160;&#160;&quot;SPP_SERVER&quot;</td></tr>
<tr class="separator:afbfbc83ad5c6fb8c7e24be1643771be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b11ad695a75bb884913e0504c2a7440"><td class="memItemLeft" align="right" valign="top"><a id="a1b11ad695a75bb884913e0504c2a7440" name="a1b11ad695a75bb884913e0504c2a7440"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BT_DEFAULT_DEVICE_NAME</b>&#160;&#160;&#160;&quot;ScientISST\0&quot;</td></tr>
<tr class="separator:a1b11ad695a75bb884913e0504c2a7440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb0a20f6c87f5a1cdd3293556262c22f"><td class="memItemLeft" align="right" valign="top"><a id="abb0a20f6c87f5a1cdd3293556262c22f" name="abb0a20f6c87f5a1cdd3293556262c22f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEND_AFTER_C0NG</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:abb0a20f6c87f5a1cdd3293556262c22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a09adbbe03bca19d08be8cc4f256e7cc9"><td class="memItemLeft" align="right" valign="top">void IRAM_ATTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bt_8h.html#a09adbbe03bca19d08be8cc4f256e7cc9">sendData</a> (void)</td></tr>
<tr class="memdesc:a09adbbe03bca19d08be8cc4f256e7cc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to send data using the appropriate send function.  <a href="bt_8h.html#a09adbbe03bca19d08be8cc4f256e7cc9">More...</a><br /></td></tr>
<tr class="separator:a09adbbe03bca19d08be8cc4f256e7cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970bbfe7779123f1f8ec27fb3a615c55"><td class="memItemLeft" align="right" valign="top">void IRAM_ATTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bt_8h.html#a970bbfe7779123f1f8ec27fb3a615c55">finalizeSend</a> (void)</td></tr>
<tr class="memdesc:a970bbfe7779123f1f8ec27fb3a615c55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to finalize the send process.  <a href="bt_8h.html#a970bbfe7779123f1f8ec27fb3a615c55">More...</a><br /></td></tr>
<tr class="separator:a970bbfe7779123f1f8ec27fb3a615c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d589ae3a900fe0bf71eddee1dd0cfaf"><td class="memItemLeft" align="right" valign="top"><a id="a1d589ae3a900fe0bf71eddee1dd0cfaf" name="a1d589ae3a900fe0bf71eddee1dd0cfaf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>initBt</b> (void)</td></tr>
<tr class="memdesc:a1d589ae3a900fe0bf71eddee1dd0cfaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the bluetooth communication. <br /></td></tr>
<tr class="separator:a1d589ae3a900fe0bf71eddee1dd0cfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a986d19de50327259af91066c4e1152d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bt_8h.html#a986d19de50327259af91066c4e1152d0">getDeviceName</a> (void)</td></tr>
<tr class="memdesc:a986d19de50327259af91066c4e1152d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the device name.  <a href="bt_8h.html#a986d19de50327259af91066c4e1152d0">More...</a><br /></td></tr>
<tr class="separator:a986d19de50327259af91066c4e1152d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Bluetooth header file. </p>
<p >This file contains the bluetooth header file and relevant macros. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a970bbfe7779123f1f8ec27fb3a615c55" name="a970bbfe7779123f1f8ec27fb3a615c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a970bbfe7779123f1f8ec27fb3a615c55">&#9670;&nbsp;</a></span>finalizeSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR finalizeSend </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to finalize the send process. </p>
<p >This function clears the sent buffer and changes the current buffer to send. </p>

</div>
</div>
<a id="a986d19de50327259af91066c4e1152d0" name="a986d19de50327259af91066c4e1152d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a986d19de50327259af91066c4e1152d0">&#9670;&nbsp;</a></span>getDeviceName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getDeviceName </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the device name. </p>
<p >Use the last 2 bytes of MAC-ADDRESS found on EFUSE to make the device name </p>

</div>
</div>
<a id="a09adbbe03bca19d08be8cc4f256e7cc9" name="a09adbbe03bca19d08be8cc4f256e7cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09adbbe03bca19d08be8cc4f256e7cc9">&#9670;&nbsp;</a></span>sendData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRAM_ATTR sendData </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to send data using the appropriate send function. </p>
<p >This function is called by the send task and sends the data using the appropriate send function. It first checks if there's anything to send. The buffer changing and clearing tasks are done after in <a class="el" href="bt_8c.html#a970bbfe7779123f1f8ec27fb3a615c55" title="Function to finalize the send process.">finalizeSend()</a> the ESP_SPP_WRITE_EVT event ocurred with writing completed successfully in esp_spp_cb(). </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
